<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			padding:0;
			margin: 0;
		}
		ul{
			list-style: none;
		}
		li:nth-of-type(2n){
			background-color: red;
		}
		li:nth-of-type(2n + 1){
			background-color: green;
		}
	</style>
</head>
<body>
	<script>
		
		//闭包
		// function a() {
		// 	function b(){
		// 		var b = 234;
		// 		console.log(aa);
		// 	}
		// 	var aa = 123;
		// 	return b;
		// }
		// var glob = 100;
		// var demo = a();
		// demo();

		/*
		闭包
			当内部函数被保存到外部时，将会产生闭包。闭包会导致原有作用域链不释放，造成内存泄露	
		*/

		// 闭包的作用

		//实现累加器
		// function add() {
		// 	var num = 100;
		// 	function test() {
		// 		num ++;
		// 		console.log(num);
		// 	}
		// 	return test;
		// }
		// var demo = add();
		// demo();

		//存储结构
		// function test() {
		// 	var num = 100;
		// 	function a() {
		// 		num ++;
		// 		console.log(num);
		// 	}
		// 	function b() {
		// 		num --;
		// 		console.log(num);
		// 	}
		// 	return [a, b];
		// }
		// var demo = test();
		// demo[0]();
		// demo[1]();

		// function eater() {
		// 	var food = "";
		// 	var obj = {
		// 		eat : function(){
		// 			console.log("i am eating "+food);
		// 			food = "";
		// 		},
		// 		push : function(myFood) {
		// 			food = myFood;
		// 		}
		// 	}
		// 	return obj;
		// }
		// var eat1 = eater();
		// eat1.push("bunana");
		// eat1.eat();


		//立即执行函数（执行完就被销毁释放）
		//针对初始化的函数，只执行一次，

		// (function () {
		// 	var a = 5;
		// 	var b = 5;
		// 	 console.log(a + b);
		// }());

		// var num = (function(a, b, c) {
		// 	var d = a + b + c * 2 -2;
		// 	return d;	
		// }(1, 2, 3));


		//只有表达式才能被执行符号执行,名字会被自动忽略	
		// - function test() {
		// 	var a = 123;
		// }();

		// function test() {
		// 	var arr = [];
		// 	for(var i = 0; i < 10; i++){
		// 		(function (j) {
		// 			arr[j] = function() {
		// 			console.log(j);
		// 			}
		// 		}(i));
				
		// 	}
		// 	return arr;
		// }
		// var myArr = test();
		// for(var j = 0; j < 10; j++){
		// 	myArr[j]();
		// }

		// var f = (
		// 	function f() {
		// 		return "1";
		// 	},
		// 	function g() {
		// 		return 2;
		// 	}
		// 	)();
		// 	console.log(typeof(f));

		var x = 1;
		if(function f() {}){ //if中的函数已经转换为表达式，判断完之后就没有了，函数不为false
			x += typeof f;
		}
		console.log(x);
</script>
	<!-- <ul>
		<li>a</li>
		<li>a</li>
		<li>a</li>
		<li>a</li> 
	</ul>
	<script>
		function getLi() {
            var myli = document.getElementsByTagName("li");
            for(var i = 0; i < myli.length; i++){
				(function (j) {
                    myli[j].onclick = function () {
                        console.log(j);
                    }
                }(i))
            }
        }
        getLi();
	</script> -->




</body>
</html>